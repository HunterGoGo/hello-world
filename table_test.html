<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Table Access</title>
<style type="text/css">
	table { border-collapse:collapse; }  
	th, td { border:1px solid gray; }
</style>
<script type="text/javascript">
	function add_row() {
		var my_tbody = document.getElementById("my-tbody");
		var getRow = my_tbody.getElementsByTagName("tr");
		var val = my_tbody.rows.length;
		var str;
		if (val == 0) {
			str = 1;	
		} else {
			str = getRow[val-1].childNodes[0].firstChild.data;
			str++;
		}
		 
		console.log("str : " + str);
	    // var row = my_tbody.insertRow(0); // 상단에 추가
	    var row = my_tbody.insertRow(val); // 하단에 추가
	    var cell1 = row.insertCell(0);
	    var cell2 = row.insertCell(1);
	    var cell3 = row.insertCell(2);
	    cell1.innerHTML = str;
	    cell2.innerHTML = new Date().toUTCString();
	    // cell3.innerHTML = "<button onclick=\"delete_row(" + str + ")\">삭제</button>";
	    cell3.innerHTML = "<button onclick=\"delete_row(this)\">삭제</button>";
	}
	
	function whatRowNum(num) {
		alert("rowIndex : " + num.parentElement.parentElement.rowIndex);
	}
	
	function delete_row(num) {
		var idx = num.parentElement.parentElement.rowIndex;
		var my_tbody = document.getElementById('my-tbody');
	    if (my_tbody.rows.length < 1) return;
	    // my_tbody.deleteRow(0); // 상단부터 삭제
	    // my_tbody.deleteRow( my_tbody.rows.length-1 ); // 하단부터 삭제
	    console.log("idx : " + idx);
	    my_tbody.deleteRow(idx-1);
	}
</script>
</head>
<body>
<button onclick="add_row()">행 추가하기</button>
<hr>
<table>
	<thead>
	  	<tr>
	    	<th>번호</th>
	    	<th>일자</th>
	    	<th>항목삭제</th>
	    </tr>
	</thead>
	<tbody id="my-tbody">
	</tbody>
</table>
</body>
</html>